<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AI Funland</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>
  <body>
    <div id="startup_banner" class="banner hidden"><span id="startup_msg">系统初始化中，请稍候...</span></div>
  <div class="app">
    <header class="topbar">
      <div class="brand">AI Funland</div>
      <nav class="nav">
        <a href="#models" class="navlink">Models</a>
        <a href="#chat" class="navlink">Chat</a>
        <a href="#perf_card" class="navlink">Performance</a>
      </nav>
      <div class="controls">
        <select id="lang" aria-label="Language">
          <option value="en">English</option>
          <option value="zh">中文</option>
        </select>
        <select id="accelerator" aria-label="Accelerator"></select>
        <button id="btn_release_global" data-i18n="release" aria-label="Release model">Release</button>
      </div>
    </header>
    <section class="sysinfo" id="sysinfo"></section>
    <main class="grid">
      <section class="card" id="models">
        <h2 data-i18n="models_title">Models</h2>
        <div class="row">
          <input id="model_id" placeholder="modelscope id" class="grow" value="qwen/Qwen2.5-0.5B-Instruct">
          <button id="btn_download" data-i18n="download">Download</button>
          <button id="btn_dl_quant_int8" data-i18n="download_quant8">Download+INT8</button>
        </div>
        <div class="row small">
          <input id="include" placeholder="include patterns">
          <input id="exclude" placeholder="exclude patterns">
          <input id="revision" placeholder="revision">
        </div>
        <div id="download_status"></div>
        <div class="list" id="model_list"></div>
      </section>
      <section class="card" id="chat">
        <h2 data-i18n="chat_title">Chat</h2>
        <div class="row">
          <select id="model_select" class="grow" aria-label="Model"></select>
          <button id="btn_quant_int8" data-i18n="quant_int8" aria-label="Quantize INT8">Quant INT8</button>
          <button id="btn_quant_int4" data-i18n="quant_int4" aria-label="Quantize INT4">Quant INT4</button>
          <button id="btn_release" data-i18n="release" aria-label="Release model">Release</button>
        </div>
        <div class="row small">
          <select id="perf_mode" aria-label="Performance mode">
            <option value="LATENCY">Latency</option>
            <option value="THROUGHPUT">Throughput</option>
          </select>
          <input id="npu_streams" type="number" min="1" value="1" placeholder="NPU streams" aria-label="NPU streams">
          <button id="btn_wizard" aria-label="Config Wizard">Wizard</button>
        </div>
        <div id="alert" class="alert" style="display:none"><span class="icon" aria-hidden="true">⚠️</span><div id="alert_msg" role="alert"></div></div>
        <div class="row">
          <input id="chat_search" class="grow" placeholder="Search history" aria-label="Search history">
        </div>
        <div id="chat_msgs" class="chat" role="log" aria-live="polite"></div>
        <textarea id="prompt" placeholder="Type your question" rows="4" aria-label="Prompt"></textarea>
        <div class="row">
          <div class="field"><input id="max_new" type="number" value="2048" min="1" aria-label="Max new tokens"><span class="help" data-tooltip="生成的新Token数量"></span></div>
          <div class="field"><input id="temperature" type="number" value="0.7" step="0.1" aria-label="Temperature"><span class="help" data-tooltip="随机性，0-1 范围"></span></div>
          <div class="field"><input id="top_k" type="number" value="50" min="1" aria-label="Top K"><span class="help" data-tooltip="采样时考虑的前K个"></span></div>
          <div class="field"><input id="top_p" type="number" value="0.9" step="0.1" aria-label="Top P"><span class="help" data-tooltip="采样时累计概率阈值"></span></div>
          <div class="field"><input id="rep_penalty" type="number" value="1.1" step="0.1" aria-label="Repetition penalty"><span class="help" data-tooltip="重复惩罚"></span></div>
          <button id="btn_generate" data-i18n="generate" aria-label="Generate">Generate</button>
        </div>
      </section>
      <section class="card" id="perf_card">
        <h2>Performance</h2>
        <div id="perf"></div>
      </section>
    </main>
    <footer class="foot">
      <center><span>V0.0.2 Dev · 2025-11-20 · Powered by <a href="https://hellovm.com">HelloVM</a>  · <a href="https://github.com/hellovm/AI-Funland">Check on Github</a></span></center>
    </footer>
  </div>
  <div id="loading_overlay" class="overlay hidden"><div class="box"><div class="spinner"></div><div id="loading_text">正在初始化模型，首次加载可能需要30-60秒</div><div id="loading_tip" style="display:none">模型加载中，请稍候...</div></div></div>
  <div id="wizard_overlay" class="overlay hidden"><div class="box"><div class="wizard" id="wizard"></div></div></div>
  <script src="/static/app.js"></script>
</body>
</html>